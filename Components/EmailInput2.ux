<TextInput ux:Class="EmailInput2" Value="{Property Text}" IsValid="init" Height="30" Padding="5" PlaceholderText="e-mail" PlaceholderColor="#44444450">
    <string ux:Property="Text" />
    <string ux:Property="IsValid" />

    <Rectangle CornerRadius="4" Layer="Background">
        <Stroke ux:Name="stroke" Width="1" Color="#bbb" />
    </Rectangle>

    <WhileNotFocused>
        <JavaScript>
            console.log(' ');
            console.log('------ Email Start ------');
            console.log( "Text: " + this.Text.value );
            console.log( "IsValid: " + this.IsValid.value );

            let Context = require("Modules/Context");
            let text = this.Text.value;
            let isValid = this.IsValid.value;

            Context.status.value = {
                error: true
            };

            if(isValid != "init") {
                if(text && text.length > 3 && text.indexOf('@') != -1 && text.indexOf('.') != -1) {
                    console.log('true ist valid grï¿½n');
                    this.IsValid.value = true;

                    Context.status.value = {
                        error: false
                    };
                } else {
                    console.log('false ist NICHT valid rot');
                    this.IsValid.value = false;

                    //Set Error Observable to false
                    Context.status.value = {
                        message: 'Invalid or Empty Email-Adress',
                        error: true
                    };
                }
            }

            console.log('------ Email End ------');
            console.log(' ');
        </JavaScript>

        <WhileString Value="{Property IsValid}" Equals="true" CaseSensitive="false">
            <Change stroke.Color="Green" />
        </WhileString>

        <WhileString Value="{Property IsValid}" Equals="false" CaseSensitive="false">
            <Change stroke.Color="Red" />
        </WhileString>
    </WhileNotFocused>

    <WhileFocused>
        <JavaScript>
            this.IsValid.value = false;
            console.log( "IsValid: " + this.IsValid.value );
        </JavaScript>
    </WhileFocused>

</TextInput>